<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Login - CodeBattle</title>
        <style>
            body {
                font-family: sans-serif;
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100vh;
                margin: 0;
                background-color: #f4f4f4;
            }
            .login-container {
                background: #fff;
                padding: 40px;
                border-radius: 8px;
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
                text-align: center;
                width: 300px;
            }
            h1 {
                color: #333;
                margin-bottom: 30px;
            }
            .user-list {
                list-style-type: none;
                padding: 0;
                margin: 0;
            }
            .user-item button {
                display: block;
                width: 100%;
                padding: 15px;
                margin-bottom: 10px;
                font-size: 16px;
                border: 1px solid #ddd;
                border-radius: 5px;
                background-color: #f9f9f9;
                cursor: pointer;
                transition:
                    background-color 0.2s,
                    transform 0.2s;
            }
            .user-item button:hover {
                background-color: #007bff;
                color: white;
                transform: translateY(-2px);
            }
        </style>
    </head>
    <body>
        <div class="login-container">
            <h1>Choose Your Profile</h1>
            <ul id="user-list" class="user-list">
                <!-- Users will be populated by JavaScript -->
            </ul>
        </div>

        <script>
            const users = [
                {
                    name: "Alice",
                    id: "11111111-1111-1111-1111-111111111111",
                },
                { name: "Bob", id: "22222222-2222-2222-2222-222222222222" },
                {
                    name: "Charlie",
                    id: "33333333-3333-3333-3333-333333333333",
                },
                {
                    name: "Diana",
                    id: "44444444-4444-4444-4444-444444444444",
                },
                { name: "Eve", id: "55555555-5555-5555-5555-555555555555" },
            ];

            document.addEventListener("DOMContentLoaded", () => {
                const userList = document.getElementById("user-list");

                users.forEach((user) => {
                    const li = document.createElement("li");
                    li.className = "user-item";

                    const button = document.createElement("button");
                    button.textContent = user.name;
                    button.dataset.playerId = user.id;

                    button.addEventListener("click", () => {
                        // Store user info in localStorage
                        localStorage.setItem("codebattle_player_id", user.id);
                        localStorage.setItem(
                            "codebattle_player_name",
                            user.name,
                        );

                        // Redirect to the lobby
                        window.location.href = "/index.html";
                    });

                    li.appendChild(button);
                    userList.appendChild(li);
                });
            });
        </script>
    </body>
</html>
